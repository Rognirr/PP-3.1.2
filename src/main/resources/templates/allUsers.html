<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>all Users</title>
</head>
<body>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Email</th>
        <th>Name</th>
        <th>LastName</th>
        <th>Age</th>
        <th>Roles</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user : ${listUsers}">
        <td>
            <form margin="0" th:text="${user.getId()}"></form>
        </td>
        <td>
            <form margin="0" th:text="${user.getEmail()}"></form>
        </td>
        <td>
            <form margin="0" th:text="${user.getName()}"></form>
        </td>
        <td>
            <form margin="0" th:text="${user.getLastName()}"></form>
        </td>
        <td>
            <form margin="0" th:text="${user.getAge()}"></form>
        </td>
        <td>
            <form th:each="roleUser : ${user.getRoles()}" margin="0" th:text="${roleUser}"></form>
        </td>
        <td>
            <form margin="0" th:method="GET" th:action="@{/admin/{id}(id=${user.getId()})}">
                <input type="submit" class="btn btn-primary btn-block" value="Edit">
            </form>
        </td>
        <td>
            <form margin="0" th:method="POST" th:action="@{/admin/{id}(id=${user.getId()})}">
                <input type="submit" class="btn btn-primary btn-block" value="Delete">
            </form>
        </td>
    </tr>
    </tbody>
</table>
<form method="POST" th:action="@{/admin}">
    <label for="email">Email</label>
    <input name="email" type="text" id="email"/>
    <label for="name">Name</label>
    <input name="name" type="text" id="name"/>
    <label for="lastName">LastName</label>
    <input name="lastName" type="text" id="lastName"/>
    <label for="age">Age</label>
    <input name="age" type="text" id="age"/>
    <label for="password">Password</label>
    <input name="password" type="text" id="password"/>
    <th:block th:each="role : ${allRoles}">
        <input th:name="roles" type="checkbox"
               th:value="${role.id}"
               th:text="${role.name}"/>
    </th:block>
    <input type="submit" name="add" value="Add">
</form>
<form margin="0" th:action="@{/logout}">
    <input type="submit" class="btn btn-primary btn-block" value="Logout?">
</form>
</body>
</html>